!function(e){e.extend({StandardPost:function(t,a){var n,o=e("<form method='post'><input type='hidden' name='_token' value='"+e('meta[name="_token"]').attr("content")+"'></form>");o.attr({action:t}),e.each(a,function(t,a){n=e("<input type='hidden'>"),n.attr({name:t}),n.val(a),o.append(n)}),o.submit()}}),e(window).setBreakpoints({distinct:!0,breakpoints:[0,414,768,992,1200,1480]}),e(window).on({"enterBreakpoint768 enterBreakpoint992 enterBreakpoint1200 enterBreakpoint1480":function(){e("#basket-panel").stick_in_parent({parent:".main-container",offset_top:10,recalc_every:50})},"enterBreakpoint0 enterBreakpoint414":function(){e("#basket-panel").trigger("sticky_kit:detach")}}),e("#open-basket, .mobile-close-button, .basket-shadow").on("click",function(t){e("#open-basket, .basket").toggleClass("open"),e(".container").toggleClass("basket-open")}),e(document).on("click","#apply_voucher",function(){e("#apply_voucher").addClass("hide"),e("#loading-indicator").removeClass("loaded");var t=e("#voucher_code").val();e.ajax({headers:{"X-CSRF-Token":e('meta[name="_token"]').attr("content")},url:"/home/menu/voucherapply",type:"POST",data:{code:t},success:function(a){e("#apply_voucher").removeClass("hide"),e("#loading-indicator").addClass("loaded"),a.type?swal({title:a.title,text:a.message,type:"success",showCancelButton:!0,closeOnConfirm:!1,showLoaderOnConfirm:!0},function(){e.ajax({headers:{"X-CSRF-Token":e('meta[name="_token"]').attr("content")},url:"/home/menu/usevoucher",type:"POST",data:{code:t},success:function(t){t.type?(e(".voucher").addClass("hide"),e(".voucheritem").removeClass("hide"),basket(t.data)):swal({title:t.title,text:t.message,type:"error",confirmButtonText:"Close"})},error:function(e){alert("Data not found")}}),setTimeout(function(){swal({title:"Success",text:"Voucher worth $"+a.price+" is used",type:"success",confirmButtonText:"Okay"})},0)}):swal({title:a.title,text:a.message,type:"error",confirmButtonText:"Close"})},error:function(e){alert("Data not found")}})}),e(document).on("click",".remove_voucher",function(){e.ajax({headers:{"X-CSRF-Token":e('meta[name="_token"]').attr("content")},url:"/home/menu/removevoucher",type:"POST",data:{code:"remove"},success:function(t){e(".voucher").removeClass("hide"),e(".voucheritem").addClass("hide"),basket(t),swal({title:"Success",text:"Voucher voucher remove success",type:"success",confirmButtonText:"Okay"})},error:function(e){alert("Voucher remove fail")}})}),e(document).on("click",".add-to-basket",function(){var t=e(this).attr("item-code");e.ajax({headers:{"X-CSRF-Token":e('meta[name="_token"]').attr("content")},url:"/home/menu/addtoorder",type:"POST",data:{id:t},success:function(e){basket(e)},error:function(e){alert("Data not found")}})}),e(document).on("click",".remove-to-basket",function(){var t=e(this).attr("item-code");e.ajax({headers:{"X-CSRF-Token":e('meta[name="_token"]').attr("content")},url:"/home/menu/removetoorder",type:"POST",data:{id:t},success:function(e){basket(e)},error:function(e){alert("Data not found")}})}),e(document).on("click",".material_rm",function(){var t=e(this).attr("item-code"),a=e("*[name='takeout']").val();e(this).hasClass("choicebtn")?(a=a+t+",",e("*[name='takeout']").val(a),e(this).removeClass("choicebtn"),e(this).addClass("unchoicebtn")):(a=a.replace(t+",",""),e("*[name='takeout']").val(a),e(this).removeClass("unchoicebtn"),e(this).addClass("choicebtn"))}),e(document).on("click",".material_ad",function(){var t=e(this).attr("item-code"),a=e("*[name='extra']").val();if(e(this).hasClass("unchoicebtn")){a=a+t+",",e("*[name='extra']").val(a);var n=parseFloat(e("#dish_price").html())+parseFloat(e(this).attr("price"));e("#dish_price").html(n),e(this).removeClass("unchoicebtn"),e(this).addClass("choicebtn")}else{a=a.replace(t+",",""),e("*[name='extra']").val(a);var n=parseFloat(e("#dish_price").html())-parseFloat(e(this).attr("price"));e("#dish_price").html(n),e(this).removeClass("choicebtn"),e(this).addClass("unchoicebtn")}}),e(".btn-number").click(function(t){t.preventDefault(),fieldName=e(this).attr("data-field"),type=e(this).attr("data-type");var a=e("input[name='"+fieldName+"']"),n=parseInt(a.val());isNaN(n)?a.val(0):"minus"==type?(n>a.attr("min")&&a.val(n-1).change(),parseInt(a.val())==a.attr("min")&&e(this).attr("disabled",!0)):"plus"==type&&(n<a.attr("max")&&a.val(n+1).change(),parseInt(a.val())==a.attr("max")&&e(this).attr("disabled",!0))}),e(".input-number").focusin(function(){e(this).data("oldValue",e(this).val())}),e(".input-number").change(function(){minValue=parseInt(e(this).attr("min")),maxValue=parseInt(e(this).attr("max")),valueCurrent=parseInt(e(this).val()),name=e(this).attr("name"),valueCurrent>=minValue?e(".btn-number[data-type='minus'][data-field='"+name+"']").removeAttr("disabled"):(alert("Sorry, the minimum value was reached"),e(this).val(e(this).data("oldValue"))),valueCurrent<=maxValue?e(".btn-number[data-type='plus'][data-field='"+name+"']").removeAttr("disabled"):(alert("Sorry, the maximum value was reached"),e(this).val(e(this).data("oldValue")))}),e(".input-number").keydown(function(t){e.inArray(t.keyCode,[46,8,9,27,13,190])!==-1||65==t.keyCode&&t.ctrlKey===!0||t.keyCode>=35&&t.keyCode<=39||(t.shiftKey||t.keyCode<48||t.keyCode>57)&&(t.keyCode<96||t.keyCode>105)&&t.preventDefault()}),basket=function(t){var a="",n=0;if(1==Object.keys(t).length)e(".empty-order").show();else{e(".empty-order").hide();for(var o in t)if("total"!=o&&"deliveryfee"!=o&&"coupon"!=o){if(n+=t[o].qty,a+='<div class="basket-product product">  <div class="row">    <div class="col-9">      <span class="description">'+t[o].qty+" x "+t[o].name+'      </span>    </div>       <div class="col-3"><span class="price at-product-price">$'+t[o].price+"</span></div> </div>",e.isEmptyObject(t[o].flavour)||(a+=' <div class="row">    <div class="col-9">      <span class="description">&nbsp;&nbsp;&nbsp;&nbsp;'+t[o].flavour+"      </span>    </div> </div>"),!e.isEmptyObject(t[o].takeout))for(var s in t[o].takeout)a+=' <div class="row">    <div class="col-9">      <span class="description">&nbsp;&nbsp;&nbsp;&nbsp;no '+t[o].takeout[s].name+"      </span>    </div> </div>";if(!e.isEmptyObject(t[o].extra))for(var r in t[o].extra)a+=' <div class="row">    <div class="col-9">      <span class="description">&nbsp;&nbsp;&nbsp;&nbsp;extra '+t[o].extra[r].name+" $"+t[o].extra[r].price+"      </span>    </div> </div>";a+='   <div class="row actions">       <button class="btn add-product add-to-basket" item-code="'+t[o].__raw_id+'">Add one</button>           <button class="btn remove-product remove-to-basket" item-code="'+t[o].__raw_id+'">Remove</button>  </div>  </div>'}}if(e(".at-product-price").text("$"+t.deliveryfee),t.total<=t.coupon.value||null==t.coupon.value)var i=t.total+t.deliveryfee;else var i=t.total+t.deliveryfee-t.coupon.value;e("#voucher_mycode").text(t.coupon.code),e("#voucher_value").text("$"+t.coupon.value),e(".total-amount").text("$"+i),e(".number-of-items").text(n),e(".basket_order").html(a)},e(".addtext").click(function(){e("#message").append(e(this).text()+", ")})}(jQuery);