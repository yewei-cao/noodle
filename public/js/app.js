!function(n){var t=n({});n.subscribe=function(){t.on.apply(t,arguments)},n.unsubscribe=function(){t.off.apply(t,arguments)},n.publish=function(){t.trigger.apply(t,arguments)}}(jQuery),function(){var n=function(n){var t=$(this),i=t.find('input[name="_method"]').val()||"POST";$.ajax({type:i,url:t.prop("action"),data:t.serialize(),success:function(){$.publish("form.submitted",t)}}),n.preventDefault()};$("form[data-remote]").on("submit",n)}(),function(){$.subscribe("form.submitted",function(){$(".flash").fadeIn(500).delay(1e3).fadeOut(500)})}();