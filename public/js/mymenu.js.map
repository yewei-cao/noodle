{"version":3,"sources":["mymenu.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"mymenu.js","sourcesContent":["/**\r\n * \r\n */\r\n\r\n(function($) {\r\n\r\n\t$.extend({\r\n\t    StandardPost:function(url,args){\r\n\t        var form = $(\"<form method='post'><input type='hidden' name='_token' value='\"+$('meta[name=\"_token\"]').attr('content')+\"'></form>\"),\r\n\t            input;\r\n\t        form.attr({\"action\":url});\r\n\t        $.each(args,function(key,value){\r\n\t            input = $(\"<input type='hidden'>\");\r\n\t            input.attr({\"name\":key});\r\n\t            input.val(value);\r\n\t            form.append(input);\r\n\t        });\r\n\t        form.submit();\r\n\t    }\r\n\t});\r\n\r\n\t\r\n\t$(window).setBreakpoints({\r\n\t\tdistinct:!0,breakpoints:[0,414,768,992,1200,1480]\r\n\t});\r\n\r\n\t$(window).on({\"enterBreakpoint768 enterBreakpoint992 enterBreakpoint1200 enterBreakpoint1480\":function(){\r\n\t\t$(\"#basket-panel\").stick_in_parent({\r\n\t\t\tparent:\".main-container\",offset_top: 10,recalc_every:50\r\n\t\t});\r\n\t},\"enterBreakpoint0 enterBreakpoint414\":function(){\r\n\t\t$(\"#basket-panel\").trigger(\"sticky_kit:detach\")\r\n\t\t}\r\n\t});\r\n\r\n\r\n\t$('#open-basket, .mobile-close-button, .basket-shadow').on('click',function(e){\r\n\t\t$( \"#open-basket, .basket\" ).toggleClass( \"open\");\r\n// \t\t$( \".basket\" ).toggleClass( \"open\");\r\n\t\t$( \".container\" ).toggleClass( \"basket-open\");\r\n\t});\r\n\r\n\t$(document).on(\"click\", \".add-to-order\" , function() {\r\n\t\tvar code = $(this).attr(\"item-code\");\r\n\r\n\t\t$.StandardPost('/home/menu/addtoorder',{id:code});\r\n\t\t\r\n\t});\r\n\r\n\t$(document).on(\"click\", \".remove-to-order\" , function() {\r\n\t\tvar code = $(this).attr(\"item-code\");\r\n\t\t$.StandardPost('/home/menu/removetoorder',{id:code});\r\n// \t\t$.ajax({\r\n// \t\t\t  headers: {'X-CSRF-Token': \"{{ csrf_token() }}\"},\r\n// \t\t      url: '/home/menu/removetoorder',\r\n// \t\t      type: 'POST',\r\n// \t\t      data: {'id':code},\r\n// \t\t      success: function(result) {\r\n// \t\t\t\t  add_basket(result);\r\n//             },\r\n//             error: function(result) {\r\n//                 alert(\"Data not found\");\r\n//             }\r\n// \t\t      });\r\n\t});\r\n\t\r\n\t$(document).on(\"click\", \".material_rm\" , function() {\r\n\t\tvar code = $(this).attr(\"item-code\");\r\n\t\tvar takeout = $(\"*[name='takeout']\").val();\r\n\t\tif($(this).hasClass('choicebtn')){\r\n\t\t\ttakeout = takeout +code+ ',';\r\n\t\t\t$(\"*[name='takeout']\").val(takeout);\r\n\t\t\t$(this).removeClass('choicebtn');\r\n\t\t\t$(this).addClass('unchoicebtn');\r\n\t\t}else{\r\n\t\t\ttakeout = takeout.replace(code+',','');\r\n\t\t\t$(\"*[name='takeout']\").val(takeout);\r\n\t\t\t$(this).removeClass('unchoicebtn');\r\n\t\t\t$(this).addClass('choicebtn');\r\n\t\t}\r\n\t});\r\n\r\n\t$(document).on(\"click\", \".material_ad\" , function() {\r\n\t\tvar code = $(this).attr(\"item-code\");\r\n\t\tvar extra = $(\"*[name='extra']\").val();\r\n\t\tif($(this).hasClass('unchoicebtn')){\r\n\t\t\textra = extra +code+ ',';\r\n\t\t\t$(\"*[name='extra']\").val(extra);\r\n\t\t\tvar price = parseFloat($(\"#dish_price\").html()) + parseFloat($(this).attr(\"price\"));\r\n\t\t\t$(\"#dish_price\").html(price);\r\n\t\t\t$(this).removeClass('unchoicebtn');\r\n\t\t\t$(this).addClass('choicebtn');\r\n\t\t}else{\r\n\t\t\textra = extra.replace(code+',','');\r\n\t\t\t$(\"*[name='extra']\").val(extra);\r\n\t\t\tvar price = parseFloat($(\"#dish_price\").html()) - parseFloat($(this).attr(\"price\"));\r\n\t\t\t$(\"#dish_price\").html(price);\r\n\t\t\t$(this).removeClass('choicebtn');\r\n\t\t\t$(this).addClass('unchoicebtn');\r\n\t\t}\r\n\t\t\t\r\n\t});\r\n\t\r\n\t\r\n\t//plugin bootstrap minus and plus\r\n\t//http://jsfiddle.net/laelitenetwork/puJ6G/\r\n\t$('.btn-number').click(function(e){\r\n\t  e.preventDefault();\r\n\t  \r\n\t  fieldName = $(this).attr('data-field');\r\n\t  type      = $(this).attr('data-type');\r\n\t  var input = $(\"input[name='\"+fieldName+\"']\");\r\n\t  var currentVal = parseInt(input.val());\r\n\t  if (!isNaN(currentVal)) {\r\n\t      if(type == 'minus') {\r\n\t          \r\n\t          if(currentVal > input.attr('min')) {\r\n\t              input.val(currentVal - 1).change();\r\n\t          } \r\n\t          if(parseInt(input.val()) == input.attr('min')) {\r\n\t              $(this).attr('disabled', true);\r\n\t          }\r\n\r\n\t      } else if(type == 'plus') {\r\n\r\n\t          if(currentVal < input.attr('max')) {\r\n\t              input.val(currentVal + 1).change();\r\n\t          }\r\n\t          if(parseInt(input.val()) == input.attr('max')) {\r\n\t              $(this).attr('disabled', true);\r\n\t          }\r\n\r\n\t      }\r\n\t  } else {\r\n\t      input.val(0);\r\n\t  }\r\n\t});\r\n\t$('.input-number').focusin(function(){\r\n\t $(this).data('oldValue', $(this).val());\r\n\t});\r\n\t$('.input-number').change(function() {\r\n\t  \r\n\t  minValue =  parseInt($(this).attr('min'));\r\n\t  maxValue =  parseInt($(this).attr('max'));\r\n\t  valueCurrent = parseInt($(this).val());\r\n\t  \r\n\t  name = $(this).attr('name');\r\n\t  if(valueCurrent >= minValue) {\r\n\t      $(\".btn-number[data-type='minus'][data-field='\"+name+\"']\").removeAttr('disabled')\r\n\t  } else {\r\n\t      alert('Sorry, the minimum value was reached');\r\n\t      $(this).val($(this).data('oldValue'));\r\n\t  }\r\n\t  if(valueCurrent <= maxValue) {\r\n\t      $(\".btn-number[data-type='plus'][data-field='\"+name+\"']\").removeAttr('disabled')\r\n\t  } else {\r\n\t      alert('Sorry, the maximum value was reached');\r\n\t      $(this).val($(this).data('oldValue'));\r\n\t  }\r\n\t  \r\n\t  \r\n\t});\r\n\t$(\".input-number\").keydown(function (e) {\r\n\t      // Allow: backspace, delete, tab, escape, enter and .\r\n\t      if ($.inArray(e.keyCode, [46, 8, 9, 27, 13, 190]) !== -1 ||\r\n\t           // Allow: Ctrl+A\r\n\t          (e.keyCode == 65 && e.ctrlKey === true) || \r\n\t           // Allow: home, end, left, right\r\n\t          (e.keyCode >= 35 && e.keyCode <= 39)) {\r\n\t               // let it happen, don't do anything\r\n\t               return;\r\n\t      }\r\n\t      // Ensure that it is a number and stop the keypress\r\n\t      if ((e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && (e.keyCode < 96 || e.keyCode > 105)) {\r\n\t          e.preventDefault();\r\n\t      }\r\n\t  });\r\n\r\n\tadd_basket=function(result){\r\n\t\t var html= \"\";\r\n\t\t var totalqty=0;\r\n\r\n\t\t if(Object.keys(result).length == 1){\r\n\t\t\t $(\".empty-order\").show();\r\n\t\t }\r\n\t\t else{\r\n\t\t\t $(\".empty-order\").hide();\r\n\t\t\t  for(var i in result){\r\n\t\t\t\t  if(i != \"total\"&& i != 'deliveryfee'){\r\n\t\t\t\t  totalqty+=result[i]['qty'];\r\n\t\t\t\t  html += '<div class=\\\"basket-product product\\\"> '\r\n\t\t                \r\n\t\t                +' <div class=\\\"row\\\">'\r\n\t\t                +'    <div class=\\\"col-9\\\">'\r\n\t\t                +'      <span class=\\\"description\\\">'\r\n\t\t                + result[i]['qty'] +' x '+ result[i]['name']\r\n\t\t                +'          </span>'\r\n\t\t                +'      </div>'\r\n\t\t                +'       <div class=\"col-3\"><span class=\"price at-product-price\">$'+ result[i]['price'] +'</span></div>'\r\n\t\t                +' </div>'\r\n\t\t                +'   <div class=\"row actions\">'\r\n\t\t                +'       <button class=\"btn add-product add-to-order\" item-code=\"'+ result[i]['id'] +'\">Add one</button>'\r\n\t\t                +'           <button class=\"btn remove-product remove-to-order\" item-code=\"'+ result[i]['__raw_id'] +'\">Remove</button>'\r\n\t\t                +'  </div> '\r\n\t\t                +' </div>';\r\n\t\t\t  }\r\n\t\t\t  }\r\n\t\t }\r\n\t\t if(result['deliveryfee'] == 0){\r\n\t\t\t $(\".deliveryfee-container\").hide();\r\n\t\t }else{\r\n\t\t\t $(\".deliveryfee-container\").show();\r\n\t\t}\r\n\t\t var total = result['total'] +result['deliveryfee'];\r\n\t\t  $('.total-amount').text('$'+total);\r\n\t\t  $('.number-of-items').text(totalqty);\r\n\t\t  $(\".basket_order\").html(html);\r\n\t}\r\n\r\n}(jQuery));\r\n"],"sourceRoot":"/source/"}